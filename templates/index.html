<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Generator</title>
</head>
<body>
    <h1>Generate a Trending Story</h1>
    <form id="story-form">
        <label for="trend_source">Select Trend Source:</label>
        <select name="trend_source" id="trend_source">
            <option value="google_trends">Google Trends</option>
            <option value="tiktok_api">TikTok API</option>
            <option value="reddit_api">Reddit API</option>
        </select>

        <label for="genre">Genre:</label>
        <select name="genre" id="genre">
            <option value="Comedy">Comedy</option>
            <option value="Horror">Horror</option>
            <option value="Motivational">Motivational</option>
            <option value="Mystery">Mystery</option>
        </select>

        <label for="tone">Tone:</label>
        <select name="tone" id="tone">
            <option value="Lighthearted">Lighthearted</option>
            <option value="Dark">Dark</option>
            <option value="Inspirational">Inspirational</option>
        </select>

        <label for="time_period">Time Period:</label>
        <select name="time_period" id="time_period">
            <option value="Past">Past</option>
            <option value="Present">Present</option>
            <option value="Future">Future</option>
        </select>

        <label for="duration">Story Duration:</label>
        <select name="duration" id="duration">
            <option value="30 seconds">30 Seconds</option>
            <option value="1 minute">1 Minute</option>
        </select>

        <button type="button" onclick="generateStory()">Generate Story</button>
    </form>

       <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <h2>Generated Story:</h2>
    <p id="generated-story">Your story will appear here...</p>

    <script>
        function generateStory() {
            const formData = new FormData(document.getElementById("story-form"));

            fetch("/generate", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("generated-story").innerText = 
                    `Trend: ${data.trend}\n\n${data.script}`;
            })
            .catch(error => {
                document.getElementById("generated-story").innerText = 
                    "Error generating story. Please try again.";
                console.error("Error:", error);
            });
        }
    </script>
</body>
</html>
